#import "template.typ": flight-plan, flight-plan-table, instruction, chat, spoken, speaker-swap
#import "helpers.typ": *

#show: doc => flight-plan(
  module_number: <%= @module_number %>,
  module_name: "<%= @module_name %>",
  duration: <%= @total_length %>,
  when: datetime(
    year: 2024,
    month: 6,
    day: 19,
    hour: 9,
    minute: 0,
    second: 0,
  ),
  organisation: "Better Conversations Foundation",
  doc
)

= Flight Plan

== Learning Outcomes

<%= @learning_outcomes %>

== Flipcharts

#[
// Bold titles.
#show table.cell.where(y: 0): set text(weight: "bold")

#table(
columns: (auto, auto, 1fr),
rows: 4,
align: (x, y) =>
if y > 0 and x == 2 { left }
else { center },

[Reference], [Who is scribing?], [Contents],

<% flipcharts.each_with_index do |flipchart, index| %>
  [#("<%= flipchart.pretty_id %>")], [<%= flipchart.pretty_scribed_by %>], [<%= flipchart.description %>],
<% end %>
)
]

== Demo

<%= @demo %>

#pagebreak()

== Time Plan

#flight-plan-table(
  <%= blocks_typst %>
)
